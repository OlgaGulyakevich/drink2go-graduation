var u=()=>{let l=document.querySelector(".header"),t=document.querySelector(".js-toggle-button"),i=document.querySelector(".header__nav");if(!t||!i)return;let s=(()=>{let e=document.querySelector(".header__mobile-menu");if(!e){e=document.createElement("div"),e.classList.add("header__mobile-menu");let n=i.cloneNode(!0);n.classList.add("header__mobile-nav"),e.appendChild(n),l.appendChild(e)}return e})(),o=()=>{let e=t.classList.contains("header__toggle--open"),n=t.querySelector(".header__toggle-icon use");e?(t.classList.remove("header__toggle--open"),s.classList.remove("header__mobile-menu--open"),t.setAttribute("aria-label","Open menu"),n.setAttribute("href","icons/stack.svg#menu"),document.body.style.overflow=""):(t.classList.add("header__toggle--open"),s.classList.add("header__mobile-menu--open"),t.setAttribute("aria-label","Close menu"),n.setAttribute("href","icons/stack.svg#close"),document.body.style.overflow="hidden")},a=()=>{t.classList.contains("header__toggle--open")&&o()},c=()=>{window.innerWidth>=768&&t.classList.contains("header__toggle--open")&&o()};t.addEventListener("click",o),s.querySelectorAll(".nav__link").forEach(e=>{e.addEventListener("click",a)}),window.addEventListener("resize",c),document.addEventListener("keydown",e=>{e.key==="Escape"&&t.classList.contains("header__toggle--open")&&o()})};export{u as initMobileMenu};
