// ============================================================
// Drink2Go - Range Slider (NoUISlider)
// ============================================================
// Custom styles for NoUISlider library
// Override default styles to match project design
// ============================================================
// ‚ö†Ô∏è IMPORTANT: .noUi-* classes are from NoUISlider library
// They don't follow BEM, but that's normal for third-party libraries
// stylelint-disable selector-class-pattern
// ============================================================

// Variables are imported globally via styles.scss


// ============================================================
// üéØ BASE CONTAINER
// ============================================================

.range-slider {
  // Container for entire range-slider
  width: 100%;
  max-width: 280px;
  margin: 0 auto; // auto horizontally for centering (top margin controlled by gap in .filters__group)
  box-sizing: border-box; // Include padding in width

  @media (min-width: $breakpoint-desktop) {
    max-width: 318px;
  }
}

// Wrapper for slider itself (handles and track)
.range-slider__slider-wrapper {
  padding: 8px 6px; // 8px vertically (handles visible), 6px horizontally (handles don't overflow)
  overflow: visible; // Handles must be visible
  margin-bottom: 24px;
}


// ============================================================
// üé® NOUISLIDER STYLE OVERRIDES
// ============================================================

// ------------------------------------------------------------
// Track (slider track) - inactive part
// ------------------------------------------------------------
.noUi-target {
  position: relative;
  background-color: transparent; // Transparent background (gray track drawn via ::before)
  border: none;
  box-shadow: none;
  height: 4px; // Container height 4px for purple part
  border-radius: 4px;
  box-sizing: border-box; // Include padding in width
  overflow: visible; // Allow overflow for handles

  // Gray background track (2px centered, full width)
  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 0; // From left edge
    right: 0; // To right edge
    height: 2px;
    transform: translateY(-50%);
    background-color: #e0e0e0;
    border-radius: 2px;
    z-index: 0;
  }
}

// Horizontal orientation
.noUi-horizontal {
  height: 4px;
}

// ------------------------------------------------------------
// Connect (active part of track between handles)
// ------------------------------------------------------------
.noUi-connect {
  background-color: #9070ec; // Purple active part
  height: 4px; // Purple part 4px (takes full container height)
  border-radius: 4px;
  z-index: 1;
  position: relative;
}

// ------------------------------------------------------------
// Handle (slider thumb)
// ------------------------------------------------------------
.noUi-handle {
  // Size and shape - REDUCED
  width: 12px;
  height: 12px;
  border-radius: 50%; // Round

  // Colors
  background-color: #ffffff;
  border: 2px solid #9070ec; // Purple border
  box-shadow: none;

  // Positioning
  top: 50%;
  transform: translateY(-50%);
  right: -6px; // Center on track (half width)

  // Cursor
  cursor: pointer;

  // Remove arrows
  &::before,
  &::after {
    display: none;
  }

  // ============================================
  // HOVER & FOCUS STATE
  // ============================================
  &:hover,
  &:focus {
    // background-color: rgba(144, 112, 236, 0.25); // Semi-transparent purple
    border-color: #9070ec;
    outline: none;
  }

  // ============================================
  // ACTIVE STATE
  // ============================================
  &:active {
    background-color: #7859cf; // Solid purple
    border-color: #7859cf;
    box-shadow: inset 0 0 0 2px #ffffff; // White inner border
  }
}

// Horizontal handle
.noUi-horizontal .noUi-handle {
  top: 50%;
  transform: translateY(-50%);
}

// ------------------------------------------------------------
// Tooltip (if needed)
// ------------------------------------------------------------
.noUi-tooltip {
  display: none; // Hidden by default

  // If needed:
  // background-color: $color-primary;
  // color: $color-text-inverse;
  // border: none;
  // font-size: $font-size-small-mobile;
  // padding: 4px 8px;
  // border-radius: $border-radius-sm;
}

// ------------------------------------------------------------
// Touch area (for mobile devices)
// ------------------------------------------------------------
.noUi-touch-area {
  // Increase touch area for mobile
  width: 200%;
  height: 200%;
}

// ------------------------------------------------------------
// Disabled state
// ------------------------------------------------------------
.noUi-target[disabled] {
  cursor: not-allowed;

  // Gray track in disabled state
  &::before {
    background-color: #bdbdbd;
  }

  .noUi-handle {
    cursor: not-allowed;
    background-color: #ffffff;
    border-color: #bdbdbd;
  }

  .noUi-connect {
    background-color: #bdbdbd;
  }
}


// ============================================================
// üî¢ INPUT FIELDS (related to range-slider)
// ============================================================

.range-slider__inputs {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: $spacing-xl;
}

.range-slider__label {
  display: flex;
  flex-direction: column;
  flex: 1; // Even width distribution
  min-width: 0; // For correct work in flex
}

.range-slider__input {
  // Use styles from input.scss
  // Here only specific sizes for filters
  width: 118px;
  text-align: center;
  font-weight: $font-weight-medium;
  color: #bdbdbd; // Default inactive color (for 0 or empty)

  // Active state - when value is not 0
  &.range-slider__input--active {
    color: #333333; // Active color
  }

  // Tablet
  @media (min-width: $breakpoint-tablet) {
    width: 87px;
  }

  // Desktop
  @media (min-width: $breakpoint-desktop) {
    width: 134px;
  }
}

.range-slider__separator {
  // Dash between inputs
  color: $filter-input-dash-color;
  font-size: $font-size-body-mobile;
  flex-shrink: 0;
}


// ============================================================
// üì± RESPONSIVENESS
// ============================================================
// Responsiveness implemented via variables and common styles
// Specific changes for different resolutions not required


// ============================================================
// üìù HTML USAGE EXAMPLE
// ============================================================
// <div class="range-slider">
//   <div id="price-slider"></div>
//   <div class="range-slider__inputs">
//     <input type="number" class="range-slider__input" id="price-min" value="0">
//     <span class="range-slider__separator">‚Äî</span>
//     <input type="number" class="range-slider__input" id="price-max" value="1000">
//   </div>
// </div>
